{
    "version": 1,
    "type": "transform",
    "info": {
        "name": "Validate Object Detection Datasets Using GPT-4o",
        "description": "Let GPT-4o look at every image in your object detection dataset and check against up to three validation prompts you provide. If images are not compliant they will be disabled and reasoning will be put into the metadata. The block passes each image's bounding boxes and labels to GPT-4o so you can for example check if \"The bounding boxes and labels do not correspond to the objects in the image\".",
        "operatesOn": "standalone",
        "transformMountpoints": [],
        "allowExtraCliArguments": false,
        "cliArguments": "",
        "indMetadata": true,
        "showInCreateTransformationJob": false,
        "showInDataSources": true
    },
    "parameters": [
        {
            "name": "OpenAI API Key",
            "value": "",
            "type": "secret",
            "help": "An API Key that gives access to OpenAI",
            "param": "OPENAI_API_KEY"
        },
        {
            "name": "Validation Prompt 1",
            "value": "The bounding boxes and labels do not correspond to to the objects in the image",
            "type": "string",
            "help": "Disable the sample if this prompt is true",
            "param": "validation1"
        },
        {
            "name": "Validation Prompt 2",
            "value": "The image is not clear enough to determine the objects in the image.",
            "type": "string",
            "help": "Disable the sample if this prompt is true",
            "param": "validation2"
        },
        {
            "name": "Validation Prompt 3",
            "value": "There is text overlay visible on this image.",
            "type": "string",
            "help": "Disable the sample if this prompt is true",
            "param": "validation3"
        },
        {
            "name": "Max. no. of samples to label",
            "value": "",
            "type": "int",
            "optional": true,
            "help": "Number of samples to label",
            "param": "limit"
        },
        {
            "name": "Image quality",
            "value": "auto",
            "type": "select",
            "valid": [
                {
                    "label": "Auto, depending on image input size",
                    "value": "auto"
                },
                {
                    "label": "Low-res mode ",
                    "value": "low"
                },
                {
                    "label": "High-res mode",
                    "value": "high"
                }
            ],
            "help": "Whether to send images in low (512x512) or high (using 512x512 tiles) resolution mode. If you don't need high fidelity inference then low-resolution saves a lot of tokens.",
            "param": "image-quality"
        },
        {
            "name": "Concurrency",
            "value": "10",
            "type": "int",
            "help": "Number of samples to label in parallel",
            "param": "concurrency"
        }
    ]
}